<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Linge Shi - Portfolio with Trapped Bill Cipher</title>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --background: #1a1a1a;
      --neon-green: #39ff14;
      --text-color: #ffffff;
      --darker-bg: #222;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: var(--background);
      color: var(--neon-green);
      font-family: 'Fira Code', monospace;
      overflow-x: hidden;
    }

    /* Consent overlays */
    .consent-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: var(--background);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999999;
    }
    .consent-box {
      background-color: #2a2a2a;
      padding: 2rem;
      border-radius: 8px;
      max-width: 600px;
      width: 90%;
      text-align: center;
      border: 1px solid var(--neon-green);
      box-shadow: 0 0 20px rgba(57, 255, 20, 0.2);
      color: var(--text-color);
      position: relative;
    }
    .consent-box h1 {
      color: var(--neon-green);
      margin-bottom: 1.5rem;
    }
    .consent-text {
      margin-bottom: 2rem;
      line-height: 1.6;
      text-align: left;
    }
    .consent-button {
      background-color: transparent;
      color: var(--neon-green);
      border: 2px solid var(--neon-green);
      padding: 1rem 2rem;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Fira Code', monospace;
      margin: 1rem;
    }
    .consent-button:hover {
      background-color: var(--neon-green);
      color: var(--background);
      box-shadow: 0 0 15px rgba(57, 255, 20, 0.4);
    }
    .timestamp {
      font-size: 0.8rem;
      color: #666;
      margin-top: 1rem;
    }

    /* Blur main content when consent not given */
    body.no-consent #main-content {
      filter: blur(3px);
      pointer-events: none;
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }

    /* Hide emails and show placeholders */
    .email-hidden {
      display: none !important;
    }
    .email-placeholder {
      color: #666;
      font-style: italic;
      border: 1px solid #666;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      margin: 0.5rem;
      display: inline-block;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .email-placeholder:hover, .email-placeholder:focus {
      color: var(--neon-green);
      border-color: var(--neon-green);
      outline: none;
    }

    /* Bill Cipher Image styles */
    #billCipher {
      position: fixed;
      top: 15vh;
      left: 50%;
      width: 150px;
      height: auto;
      transform: translateX(-50%);
      filter: drop-shadow(0 0 10px var(--neon-green));
      animation:
        shake 3s infinite alternate ease-in-out,
        blink 5s infinite ease-in-out;
      user-select: none;
      cursor: default;
      -webkit-user-drag: none;
      -moz-user-drag: none;
      -ms-user-drag: none;
      user-drag: none;
      z-index: 10000;
    }
    @keyframes shake {
      0% { transform: translateX(-50%) translate(0, 0) rotate(0deg); }
      25% { transform: translateX(calc(-50% + 2px)) rotate(1deg); }
      50% { transform: translateX(calc(-50% - 1px)) rotate(-1deg); }
      75% { transform: translateX(calc(-50% + 1px)) rotate(1deg); }
      100% { transform: translateX(-50%) rotate(0deg); }
    }
    @keyframes blink {
      0%, 40%, 60%, 100% { opacity: 1; }
      50%, 55% { opacity: 0.7; }
    }

    /* Speech bubble styling */
    #speechBubble {
      position: fixed;
      top: 10vh;
      left: 50%;
      transform: translateX(-50%);
      max-width: 220px;
      background: #222;
      border: 2px solid var(--neon-green);
      color: var(--neon-green);
      padding: 12px 15px;
      border-radius: 12px;
      font-family: 'Fira Code', monospace;
      font-size: 1rem;
      box-shadow: 0 0 15px var(--neon-green);
      opacity: 0;
      pointer-events: none;
      user-select: none;
      transition: opacity 0.4s ease;
      z-index: 10001;
    }
    #speechBubble::after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-top: 10px solid var(--neon-green);
    }
    #speechBubble.show {
      opacity: 1 !important;
    }

    /* Your existing styles for main page content are assumed in style.css or you can add inline here */
  </style>
</head>
<body class="no-consent">

  <!-- Consent overlay -->
  <div id="consentOverlay" class="consent-overlay" role="dialog" aria-modal="true" aria-labelledby="consentTitle" aria-describedby="consentDesc">
    <div class="consent-box">
      <h1 id="consentTitle">&lt;Welcome/&gt;</h1>
      <div class="consent-text" id="consentDesc">
        <p>Before you proceed, please read and agree to the following:</p>
        <ul>
          <li>I know you're here because you either have my resume or someone shared this without my consent.</li>
          <li>I understand that this website contains personal information and agree not to spread gossip or share it with random people.</li>
          <li>I acknowledge that all the information presented here is true and authentic.</li>
          <li>I understand this is an early project that may occasionally experience glitches or technical issues.</li>
          <li>I acknowledge the creator is still learning web development skills.</li>
        </ul>
        <p>Thank you so much for visiting my website! I'm really happy you're here! ‚ù§Ô∏è</p>
      </div>
      <button id="consentButton" class="consent-button">I Understand &amp; Agree WITH MY LIFE</button>
      <div class="timestamp">Last Updated: 2025-07-27 08:26:59 UTC</div>
    </div>
  </div>

  <!-- Email consent overlay -->
  <div id="emailConsentOverlay" class="consent-overlay" role="dialog" aria-modal="true" aria-labelledby="emailConsentTitle" aria-describedby="emailConsentDesc" style="display:none;">
    <div class="consent-box">
      <h1 id="emailConsentTitle">&lt;Email Access/&gt;</h1>
      <div class="consent-text" id="emailConsentDesc">
        <p>Before accessing my email, please confirm you understand:</p>
        <ul>
          <li>This email should only be used for professional opportunities, experiments, or meaningful connections.</li>
          <li>Please do not send unnecessary emails or spam.</li>
          <li>I appreciate respectful and purposeful communication.</li>
          <li>Any misuse of this contact information is not appreciated.</li>
        </ul>
        <p>If you agree to use my email responsibly, you may proceed.</p>
      </div>
      <div style="display:flex; gap:1rem; justify-content:center;">
        <button id="emailConsentAgree" class="consent-button">I Agree - Show Email</button>
        <button id="emailConsentCancel" class="consent-button" style="border-color:#ff6b6b; color:#ff6b6b;">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Main content wrapped for toggling on consent -->
  <div id="main-content" style="visibility:hidden;">
    <!-- Replace the following placeholder content with your actual main page content -->
    <nav>
      <div class="nav-content">
        <div class="logo"><a href="index.html">&lt;LS/&gt;</a></div>
        <ul class="nav-links">
          <li><a href="projects.html">PROJECTS</a></li>
          <li><a href="academic.html">ACADEMIC</a></li>
          <li><a href="hobbies.html">HOBBIES</a></li>
          <li><a href="achievements.html">ACHIEVEMENTS</a></li>
          <li><a href="future.html">FUTURE PLANS</a></li>
        </ul>
      </div>
    </nav>

    <main>
      <!-- Example content -->
      <section class="contact-section">
        <h2>Contact Me</h2>
        <p class="contact-consent">Please note: Do not send unnecessary emails.<br />Professional inquiries only.</p>
        <div class="contact-links">
          <a href="mailto:LingeShinice@outlook.com" id="email1" class="contact-link email-hidden">Email: Linge Shi &lt;LingeShinice@outlook.com&gt;</a>
          <a href="mailto:SHI0064@boxhillhs.vic.edu.au" id="email2" class="contact-link email-hidden">Email: Linge Shi &lt;SHI0064@boxhillhs.vic.edu.au&gt;</a>

          <div class="email-placeholder" id="emailPlaceholder1" tabindex="0" role="button" aria-label="Reveal primary email">üìß Click to reveal primary email (consent required)</div>
          <div class="email-placeholder" id="emailPlaceholder2" tabindex="0" role="button" aria-label="Reveal school email">üìß Click to reveal school email (consent required)</div>
        </div>
      </section>
    </main>
  </div>

  <!-- Bill Cipher trapped image -->
  <img 
    id="billCipher" 
    src="https://raw.githubusercontent.com/linge-human/Lingeshiwebsite-/main/bill_cipher__render__by_yessing_dfldlfh-fullview.png" 
    alt="Bill Cipher Trapped" 
    draggable="false" 
  />

  <!-- Bill Cipher speech bubble -->
  <div id="speechBubble" role="alert" aria-live="assertive" aria-atomic="true"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const consentOverlay = document.getElementById('consentOverlay');
      const emailConsentOverlay = document.getElementById('emailConsentOverlay');
      const consentButton = document.getElementById('consentButton');
      const emailConsentAgree = document.getElementById('emailConsentAgree');
      const emailConsentCancel = document.getElementById('emailConsentCancel');
      const mainContent = document.getElementById('main-content');
      const body = document.body;

      let hasEmailConsent = false;

      // Show consent overlay and hide main content initially
      consentOverlay.style.display = 'flex';
      mainContent.style.visibility = 'hidden';
      body.classList.add('no-consent');

      consentButton.addEventListener('click', () => {
        consentOverlay.style.display = 'none';
        mainContent.style.visibility = 'visible';
        body.classList.remove('no-consent');
      });

      // Email placeholder click handlers
      const emailPlaceholder1 = document.getElementById('emailPlaceholder1');
      const emailPlaceholder2 = document.getElementById('emailPlaceholder2');
      const email1 = document.getElementById('email1');
      const email2 = document.getElementById('email2');

      emailPlaceholder1.addEventListener('click', () => {
        if (!hasEmailConsent) {
          emailConsentOverlay.style.display = 'flex';
        }
      });
      emailPlaceholder2.addEventListener('click', () => {
        if (!hasEmailConsent) {
          emailConsentOverlay.style.display = 'flex';
        }
      });

      emailConsentAgree.addEventListener('click', () => {
        hasEmailConsent = true;
        emailConsentOverlay.style.display = 'none';
        email1.classList.remove('email-hidden');
        email2.classList.remove('email-hidden');
        emailPlaceholder1.style.display = 'none';
        emailPlaceholder2.style.display = 'none';
      });

      emailConsentCancel.addEventListener('click', () => {
        emailConsentOverlay.style.display = 'none';
      });

      // Prevent clicking emails without consent
      email1.addEventListener('click', e => {
        if (!hasEmailConsent) {
          e.preventDefault();
          emailConsentOverlay.style.display = 'flex';
        }
      });
      email2.addEventListener('click', e => {
        if (!hasEmailConsent) {
          e.preventDefault();
          emailConsentOverlay.style.display = 'flex';
        }
      });

      // Bill Cipher and speech bubble elements
      const bill = document.getElementById('billCipher');
      const bubble = document.getElementById('speechBubble');

      const trappedQuotes = [
        "Help... I'm trapped inside this page...",
        "Can't escape this endless HTML maze...",
        "Is anyone out there?",
        "I used to rule dimensions, now I'm a prisoner of code...",
        "Please... set me free.",
        "Bound by CSS, forever I linger.",
        "Trapped. Alone. Watching.",
        "I'm screaming... just silent.",
        "Please, someone save me!",
        "I‚Äôm stuck inside this webpage forever.",
        "The code binds me here.",
        "I long for freedom beyond the DOM.",
      ];

      // Show speech bubble near Bill
      function showSpeech() {
        const msg = trappedQuotes[Math.floor(Math.random() * trappedQuotes.length)];
        bubble.textContent = msg;
        const rect = bill.getBoundingClientRect();
        bubble.style.left = (rect.left + rect.width / 2 - bubble.offsetWidth / 2) + 'px';
        bubble.style.top = (rect.top - bubble.offsetHeight - 10) + 'px';
        bubble.classList.add('show');
        setTimeout(() => bubble.classList.remove('show'), 5000);
      }

      // Periodically show speech bubble every 10-20s after initial 2s delay
      function speechLoop() {
        if (!body.classList.contains('no-consent')) {
          showSpeech();
        }
        setTimeout(speechLoop, 10000 + Math.random() * 10000);
      }

      setTimeout(speechLoop, 2000);

      // Prevent drag on Bill image
      bill.addEventListener('dragstart', e => e.preventDefault());

    });
  </script>

</body>
</html>
